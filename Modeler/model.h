//=============================================================================
// t@C: model.h
//=============================================================================
// f̐ݒE`𐧌
//=============================================================================

#ifndef __MODEL_H__
#define __MODEL_H__

// wb_t@C̃CN[h
#include "animator.h"

// t[ԍ̍ől
int max_frame_count = 500;

// ModelNX̒`iModelerViewNXpj
class Model : public ModelerView {
private:
    //```````````````````````````````````
	//3Tۑ
    //---------------------------------------------------------------------

	// t[ԍ
    int frame_count;
    
    //-------------------------------------------------------------------------
    // ϐ
    //-------------------------------------------------------------------------

        // ```ϐǉ```


    //```````````````````````````````````


public:
    // RXgN^iX[p[NX̃RXgN^Ăяoj
    Model( int x, int y, int w, int h, char* label ) : ModelerView( x, y, w, h, label )
    {
        //```````````````````````````````````
		//3Tۑ
        //---------------------------------------------------------------------

        // t[ԍ̏
        frame_count = 0;
        
        //---------------------------------------------------------------------
        // 
        //---------------------------------------------------------------------

            // ```ϐ```


		//```````````````````````````````````
    }

    //```````````````````````````````````
	//3Tۑ
	//---------------------------------------------------------------------

    // Aj[V̐ݒ
    void SetAutomaticAnimation()
    {
        //-----------------------------------------------------------------
        // Aj[V
        //-----------------------------------------------------------------

            // ```vOLq```

        //-----------------------------------------------------------------
    }

	// 蓮Aj[V̐ݒ
    void SetManualAnimation()
    {
        //-----------------------------------------------------------------
        // Aj[V
        //-----------------------------------------------------------------

            // ```vOLq```

		//-----------------------------------------------------------------
    }

    //```````````````````````````````````


    // `̑O
    void BeginPaint()
    {
        // L
        glEnable( GL_BLEND );
        // @̎w
        glBlendFunc( GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA );
    }

    // `̌㏈
    void EndPaint()
    {
        // 𖳌
        glDisable( GL_BLEND );
    }


    // IuWFNg̕`
    void draw()
    {
		//```````````````````````````````````
		//3Tۑ
		//---------------------------------------------------------------------
        // Aj[V̏
        if ( IsAutomaticAnimation() && frame_count<max_frame_count ) {
            // t[ԍ̍XV
            SetSliderValue( FRAME_CONTROLS, ++frame_count );
            // Aj[V
            SetAutomaticAnimation();
        }
        // 蓮Aj[V̏
        else {
            // t[ԍ擾
            frame_count = (int)GetSliderValue( FRAME_CONTROLS );
            // 蓮Aj[V
            SetManualAnimation();            
        }
		//```````````````````````````````````


        // X[p[NX̕`惁\bhR[iK{j
        ModelerView::draw();


        // `Jn
        BeginPaint();

        //---------------------------------------------------------------------
        // IuWFNg`
        //---------------------------------------------------------------------

		 // ```vOLq```
		 drawBox(3, 3, 3);
		 drawSphere(3);
//		 drawTriangle(-3, -3, 0, 3, -3, 0, 0, 3, 0)

        //---------------------------------------------------------------------

        // `I
        EndPaint();
    }
};

// __MODEL_H__
#endif
